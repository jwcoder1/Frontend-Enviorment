<div ng-class="{'input-group lov': form.dialog  }">
    <ui-select append-to-body="true" multiple ng-model-options="form.ngModelOptions" ng-model="$parent.selectvalue" theme="bootstrap" ng-disabled="form.readonly" ng-change="form.onChange($select.selected);" reset-search-input="true">
        <ui-select-match placeholder="{{form.placeholder}}">{{$item.name}}</ui-select-match>
        <ui-select-choices refresh="form.refresh(form,$select.search)" refresh-delay="0" repeat="item.value as item in form.titleMap | filter:$select.search">
            <div class="select2-item" ng-bind-html="item.name | highlight: $select.search"></div>
            <small ng-if="form.small" ng-bind-html="item.value | highlight: $select.search | translate"></small>
        </ui-select-choices>
    </ui-select>
    <span ng-if="form.dialog" class="input-group-btn" style=" top: -4px;">
	            <button ng-disabled="form.readonly" class="btn btn-default btn-sm" ng-click="form.dialog(form,$parent)"
	                    type="button">
	                <i class="fa fa-search" ></i>
	            </button>
	</span>
</div>