<div ng-controller="app.page.group">
    <div class="page-content list-scope">
        <div class="row">
            <div class="col-xs-3" style="padding-right: 4px;">
                <div style="margin-bottom: 6px;">
                    <span class="input-icon search-span"> <input
                            ng-model="search" placeholder="{{'请输入群组名称' | translate}}"
                            ng-keyup="action.searchKeyUp($event);"
                            class="ng-pristine ng-valid ng-touched"> <i
                            class="ace-icon fa fa-search "></i>
                    </span>
                </div>
                <div class="my-list">
                    <div class="my-title">
                        <b>{{'群组列表' | translate}}</b>
                        <span ng-click="action.addGroup();" class="operate-span add-btn"> <i
                                class="fa fa-plus-circle"></i>
                        </span>
                    </div>
                    <div class="enterprise-selector clearfix">
                        <div class="enterprise-name">企业:</div>
                        <div class="enterprise-input">
                            <span ng-click="action.changeEnterprise();" class="input-icon clickable search-span">
                                <input ng-model="showEnterpriseName" placeholder="请选择企业" class="clickable" readonly>
                                <i class="ace-icon fa fa-search "></i>
                            </span>
                        </div>
                    </div>
                    <div class="my-content">
                        <div id="con" style="overflow-y: auto; height: 402px;">
                            <div ng-repeat="group in groups" ng-class="{'current':group == current}" class="my-item clickable" ng-click="action.selectGroup(group)">
                                <span>{{group.name}}</span>
                                <span ng-click="action.editGroup(group);" class="hover-show operate-span-edit">
                                    <i class="glyphicon glyphicon-edit"></i>
                                </span>
                                <span ng-click="action.remove(group);$event.stopPropagation();" class="hover-show operate-span">
                                    <i class="glyphicon glyphicon-remove"></i>
                                </span>
                            </div>
                        </div>
                        <div class="page-div">
                            <span ng-click="action.prevPage();" class="page-icon fa fa-angle-left blue"></span>
                            <span class="curePage ng-binding">{{nowPage}} / {{sumPage}}</span>
                            <span ng-click="action.nextPage();" class="page-icon fa fa-angle-right blue"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-9">
                <div class="tabbable">
                    <ul class="nav nav-tabs" id="myTab">
                        <li class="active">
                            <a data-toggle="tab" href="#group" aria-expanded="true">
                                {{'群组成员' | translate}}
                            </a>
                        </li>
                        <li class="">
                            <a data-toggle="tab" href="#people" aria-expanded="false">
                                {{'人员信息' | translate}}
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content" style="padding: 0;border: 0;">
                        <div id="group" class="tab-pane fade active in">
                            <div class="my-list">
                                <div class="my-title" style="text-align:left;">
                                    <b style="margin-left:15px;">{{'群组成员' | translate}}</b>
                                    <button class="btn btn-sm btn-primary" type="button" ng-click="action.addmember('O');">
                                        <i class="ace-icon glyphicon glyphicon-plus bigger-110"></i> {{"组织" | translate}}
                                    </button>
                                    <button class="btn btn-sm btn-primary" type="button" ng-click="action.addmember('PN');">
                                        <i class="ace-icon glyphicon glyphicon-plus bigger-110"></i> {{"职务" | translate}}
                                    </button>
                                    <button class="btn btn-sm btn-primary" type="button" ng-click="action.addmember('PT');">
                                        <i class="ace-icon glyphicon glyphicon-plus bigger-110"></i> {{"岗位" | translate}}
                                    </button>
                                    <button class="btn btn-sm btn-primary" type="button" ng-click="action.addmember('P');">
                                        <i class="ace-icon glyphicon glyphicon-plus bigger-110"></i> {{"人员" | translate}}
                                    </button>
                                    <button class="btn btn-sm btn-primary" type="button" ng-click="action.addmember('E');">
                                        <i class="ace-icon glyphicon glyphicon-plus bigger-110"></i> {{"企业" | translate}}
                                    </button>
                                    <button class="btn btn-sm btn-primary" type="button" ng-click="action.addmember('ET');">
                                        <i class="ace-icon glyphicon glyphicon-plus bigger-110"></i> {{"企业类型" | translate}}
                                    </button>
                                    <!-- <button class="btn btn-sm btn-primary" type="button" ng-click="action.addmember('A');">
                                        <i class="ace-icon glyphicon glyphicon-plus bigger-110"></i> {{"账号" | translate}}
                                    </button>
                                    <button class="btn btn-sm btn-primary" type="button" ng-click="action.addmember('AT');">
                                        <i class="ace-icon glyphicon glyphicon-plus bigger-110"></i> {{"账号类型" | translate}}
                                    </button> -->
                                </div>
                                <div class="my-content" style="padding:15px;">
                                    <div style="margin-bottom: 6px;">
                                        <span class="input-icon search-span"> <input
                                    ng-model="memberSearch" placeholder="{{'请输入成员信息' | translate}}"
                                    class="ng-pristine ng-valid ng-touched"> <i
                                    class="ace-icon fa fa-search "></i>
                            </span>
                                    </div>
                                    <div id="conn" style="width:100%;height:391px;border:1px solid #d4d4d4;overflow-y: auto;">
                                        <div class="my-table-title">
                                            <div style="width:15%;">{{"类型" | translate}}</div>
                                            <div style="width:30%;">{{"编号" | translate}}</div>
                                            <div style="width:30%;">{{"名称" | translate}}</div>
                                            <div style="width:25%;">{{"操作" | translate}}</div>
                                        </div>
                                        <div>
                                            <div ng-repeat="item in groupmembers | filter:myfilter" class="my-item clickable my-table-item">
                                                <div style="width:15%;" title="{{item.showType}}">{{item.showType}}
                                                </div>
                                                <div style="width:30%;" title="{{item.showid}}">
                                                    {{item.showid2?(item.showid2+"-"):""}}{{item.showid}}
                                                </div>
                                                <div style="width:30%;" title="{{item.show}}">
                                                    {{item.show2?(item.show2+"-"):""}}{{item.show}}
                                                </div>
                                                <div style="width:25%;">
                                                    <span ng-click="action.removeMember(item);$event.stopPropagation();" class="operate-span my-table-delete">
                                        <i class="glyphicon glyphicon-remove"></i>
                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="people" class="tab-pane fade">
                            <div class="my-list" style="border-top: 0;">
                                <div class="my-content" style="padding:10px;">
                                    <div style="margin-bottom: 6px;">
                                        <span class="input-icon search-span"> <input
                                                ng-model="filter2.peopleSearch" placeholder="{{'职工号/名称/拼音' | translate}}"
                                                ng-keyup="action.searchKeyUpPeople($event);"
                                                class="ng-pristine ng-valid ng-touched">
                                            <i class="ace-icon fa fa-search "></i>
                                        </span>
                                    </div>
                                    <div style="width:100%;border:1px solid #d4d4d4;">
                                        <div style="overflow-y: auto;height:413px;">
                                            <div class="my-table-title">
                                                <div style="width:25%;">{{'职工号' | translate}}</div>
                                                <div style="width:25%;">{{'名称' | translate}}</div>
                                                <div style="width:25%;">{{'组织' | translate}}</div>
                                                <div style="width:25%;">{{'职务' | translate}}</div>
                                            </div>
                                            <div ng-repeat="person in peopleMembers" class="my-item clickable my-table-item">
                                                <div style="width:25%;" title="{{person.employeeNo}}">{{person.employeeNo}}</div>
                                                <div style="width:25%;" title="{{person.cname}}">{{person.cname}}</div>
                                                <div style="width:25%;" title="{{person.orgName}}">{{person.orgName}}</div>
                                                <div style="width:25%;" title="{{person.positionName}}">{{person.positionName}}</div>
                                            </div>
                                        </div>
                                        <div class="page-div">
                                            <span ng-click="action.prevPage2();" class="page-icon fa fa-angle-left blue"></span>
                                            <span class="curePage ng-binding">{{nowPage2}} / {{sumPage2}}</span>
                                            <span ng-click="action.nextPage2();" class="page-icon fa fa-angle-right blue"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- {{result}} -->
    </div>
</div>
